/* ============================================================
   RESPONSIVE DESIGN - Breakpoints e Media Queries
   ============================================================
   
   Breakpoints:
   - Mobile: < 480px (max-width: 479px)
   - Small Tablet: 480px - 767px (max-width: 767px)
   - Tablet: 768px - 1023px
   - HD/Desktop: 1024px - 1366px
   - TV/Large: 1367px+
   
   ============================================================ */

/* Global mobile fix */
@media (max-width: 767px) {
    html,
    body {
        width: 100%;
        max-width: 100%;
        overflow-x: hidden;
    }
}

/* ============================================================
   MOBILE - < 480px
   ============================================================ */
@media (max-width: 479px) {
    :root {
        --navbar-height: 60px;
    }

    /* Layout Shell Mobile */
    .app-shell {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        width: 100%;
        overflow-x: hidden;
    }

    .main-shell {
        flex-direction: row;
        flex: 1;
        overflow-x: auto;
        overflow-y: visible;
        position: relative;
        min-height: calc(100vh - var(--navbar-height));
        width: 100%;
    }

    /* Navbar Mobile */
    .navbar {
        min-height: var(--navbar-height);
        flex-wrap: wrap;
        gap: 10px;
    }

    .titulo-sistema {
        font-size: 14px;
        padding: 0 8px;
        gap: 5px;
        flex-shrink: 0;
    }

    .titulo-sistema .w-8.h-8 {
        width: 24px;
        height: 24px;
    }

    .titulo-sistema .w-8.h-8 svg {
        width: 14px;
        height: 14px;
    }

    .select-oficina {
        display: none;
    }

    .login-itens {
        order: 3;
        width: 100%;
        margin-right: 0;
        justify-content: space-between;
        gap: 8px;
        flex-wrap: wrap;
        align-items: center;
    }

    .mensagem-ola {
        font-size: 13px;
        display: none;
    }

    .login-itens .flex.flex-col {
        display: none;
    }

    .btn-sair {
        width: 50px;
        height: 28px;
        font-size: 12px;
        padding: 4px 8px;
    }

    /* Sidebar Mobile */
    .sidebar-fixed {
        width: 280px;
        height: calc(100vh - var(--navbar-height));
        position: fixed;
        left: 0;
        top: var(--navbar-height);
        padding: 20px 0;
        background-color: rgb(32, 32, 109);
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        overflow-x: hidden;
        overflow-y: auto;
        flex-shrink: 0;
        z-index: 40;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }

    .sidebar-fixed.sidebar-open {
        transform: translateX(0);
    }

    .sidebar-overlay {
        position: fixed;
        top: var(--navbar-height);
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 30;
        transition: opacity 0.3s ease;
    }

    .menu-list {
        display: flex;
        gap: 0;
        flex-direction: column;
        overflow-x: hidden;
        overflow-y: auto;
        width: 100%;
        padding: 0;
    }

    .menu-list li {
        margin-bottom: 0;
        flex-shrink: 0;
    }

    .menu-list a {
        padding: 12px 18px;
        gap: 12px;
        font-size: 14px;
        white-space: normal;
        flex-direction: row;
        justify-content: flex-start;
        align-items: center;
        text-align: left;
    }

    .menu-list svg {
        width: 20px;
        height: 20px;
        margin-bottom: 0;
        flex-shrink: 0;
    }

    /* Content Mobile */
    .content-shell {
        flex: 1;
        padding: 12px 12px 24px;
        overflow-x: auto;
        overflow-y: auto;
        width: 100%;
        max-width: 100%;
        height: auto;
        max-height: none;
        box-sizing: border-box;
    }

    /* Dashboard Mobile */
    .dashboard-header {
        flex-direction: column;
        gap: 10px;
        margin: 12px 0;
        margin-left: 0;
        width: 100%;
    }

    .numero {
        font-size: 24px;
    }

    /* Cards Mobile */
    .os-aberta,
    .em-andamento,
    .faturamento,
    .despesa,
    .receita,
    .lucro,
    .lucratividade,
    .total-clientes,
    .clientes-ativos,
    .total-servicos,
    .servicos-ativos,
    .categorias,
    .total-usuarios,
    .usuarios-ativos,
    .departamentos {
        width: 100%;
        min-width: unset;
        padding: 8px 10px;
        font-size: 13px;
        margin-bottom: 8px;
    }

    /* Table Mobile */
    .dashboard-table {
        margin-left: 0;
        margin-right: 0;
        margin-bottom: 40px;
        overflow-x: auto;
    }

    /* Movimentação cards in column on mobile */
    .movimentacao-cards {
        flex-direction: column !important;
    }

    .movimentacao-cards > div {
        width: 100% !important;
    }

    /* Financeiro charts 50/50 on mobile */
    .financeiro-charts {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 12px !important;
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        box-sizing: border-box !important;
    }

    .financeiro-charts > div {
        width: 100% !important;
        min-width: 0 !important;
        overflow: hidden !important;
        padding: 8px !important;
        margin: 0 !important;
        flex: none !important;
        box-sizing: border-box !important;
    }

    .financeiro-charts > div h3 {
        font-size: 12px !important;
    }

    .financeiro-charts > div > * {
        width: 100% !important;
        max-width: 100% !important;
    }

    .financeiro-charts svg {
        width: 100% !important;
        height: auto !important;
    }

    /* Dashboard table spacing */
    .dashboard-table {
        margin-top: 32px !important;
        margin-bottom: 24px !important;
    }

    .ultimas-ordens {
        font-size: 14px;
        margin-left: 0;
        margin-right: 0;
    }

    .table {
        font-size: 12px;
        padding: 6px;
    }

    .table th,
    .table td {
        padding: 8px 4px;
    }

    /* Form Mobile */
    input,
    select,
    textarea {
        font-size: 16px;
        padding: 0.75rem 0.75rem;
    }

    textarea {
        min-height: 100px;
    }

    /* Button Mobile */
    button {
        font-size: 14px;
        padding: 8px 12px;
    }

    .btn-sm {
        padding: 6px 10px;
    }

    /* Grid Mobile */
    .grid {
        gap: 12px;
    }

    /* Modal Mobile */
    .modal-content {
        width: 95% !important;
        max-width: calc(100% - 10px) !important;
        border-radius: 12px;
    }
}

/* ============================================================
   SMALL TABLET - 480px a 767px
   ============================================================ */
@media (min-width: 480px) and (max-width: 767px) {
    :root {
        --navbar-height: 64px;
    }

    /* Navbar */
    .navbar {
    }

    .titulo-sistema {
        font-size: 15px;
        padding: 0 12px;
    }

    .select-oficina {
        display: block;
    }

    .select-oficina select {
        width: 140px;
        font-size: 14px;
    }

    .login-itens {
        margin-right: 20px;
    }

    .mensagem-ola {
        font-size: 15px;
    }

    .btn-sair {
        font-size: 13px;
    }

    /* Sidebar */
    .sidebar-fixed {
        width: 280px;
        height: calc(100vh - var(--navbar-height));
        position: fixed;
        left: 0;
        top: var(--navbar-height);
        padding: 20px 0;
        background-color: rgb(32, 32, 109);
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        overflow-x: hidden;
        overflow-y: auto;
        flex-shrink: 0;
        z-index: 40;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }

    .sidebar-fixed.sidebar-open {
        transform: translateX(0);
    }

    .sidebar-overlay {
        display: none;
    }

    .menu-list {
        flex-direction: column;
        width: 100%;
        overflow-x: hidden;
        overflow-y: auto;
    }

    .menu-list li {
        flex-shrink: 0;
        margin-bottom: 0;
    }

    .menu-list a {
        padding: 12px 18px;
        font-size: 14px;
        white-space: normal;
        gap: 12px;
        flex-direction: row;
    }

    /* Content */
    .content-shell {
        flex: 1;
        overflow-x: auto;
        overflow-y: auto;
        padding: 16px 16px 32px;
        width: 100%;
        height: auto;
        max-height: none;
        box-sizing: border-box;
    }

    /* Cards */
    .dashboard-header {
        flex-wrap: wrap;
        gap: 12px;
    }

    .os-aberta,
    .em-andamento,
    .faturamento,
    .despesa,
    .receita,
    .lucro,
    .lucratividade,
    .total-clientes,
    .clientes-ativos,
    .total-servicos,
    .servicos-ativos,
    .categorias,
    .total-usuarios,
    .usuarios-ativos,
    .departamentos {
        width: calc(50% - 6px);
        min-width: 150px;
    }

    /* Table */
    .dashboard-table {
        margin-left: 0;
        margin-right: 0;
        overflow-x: auto;
    }

    .table {
        font-size: 13px;
        min-width: 100%;
    }

    .table th,
    .table td {
        padding: 10px 6px;
    }

    /* Forms */
    input,
    select,
    textarea {
        font-size: 16px;
    }

    /* Financeiro charts 50/50 on small tablet */
    .financeiro-charts {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 8px !important;
    }

    .financeiro-charts > div {
        width: 100% !important;
        min-width: 0 !important;
        padding: 4px !important;
        margin: 0 !important;
    }

    textarea {
        min-height: 110px;
    }

    /* Button */
    button {
        font-size: 15px;
    }

    /* Grid */
    .grid.grid-cols-1 {
        gap: 16px;
    }

    .grid.grid-cols-2 {
        grid-template-columns: repeat(1, minmax(0, 1fr));
        gap: 14px;
    }

    /* Modal */
    .modal-content {
        width: 90% !important;
        max-height: 90vh !important;
    }
}

/* ============================================================
   TABLET - 768px a 1023px
   ============================================================ */
@media (min-width: 768px) and (max-width: 1023px) {
    :root {
        --navbar-height: 68px;
    }

    /* Navbar */
    .navbar {
    }

    .titulo-sistema {
        font-size: 16px;
        padding: 0 14px;
    }

    .select-oficina select {
        width: 160px;
        font-size: 15px;
        margin-left: 12px;
    }

    .login-itens {
        margin-right: 40px;
        gap: 12px;
    }

    .mensagem-ola {
        font-size: 15px;
    }

    /* Sidebar */
    .sidebar-fixed {
        width: 200px;
        height: calc(100vh - var(--navbar-height));
        padding: 20px 0;
        overflow-y: auto;
        flex-direction: column;
        position: sticky;
        top: 0;
    }

    .menu-list {
        flex-direction: column;
        overflow: visible;
    }

    .menu-list li {
        margin-bottom: 8px;
    }

    .menu-list a {
        padding: 10px 14px;
        font-size: 14px;
        white-space: normal;
    }

    /* Content */
    .content-shell {
        max-height: calc(100vh - var(--navbar-height));
        padding: 18px 20px 36px;
    }

    /* Financeiro charts 50/50 on tablet */
    .financeiro-charts {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 12px !important;
    }

    .financeiro-charts > div {
        width: 100% !important;
    }

    /* Dashboard */
    .dashboard-header {
        flex-wrap: wrap;
        gap: 14px;
        margin-left: 12px;
    }

    .numero {
        font-size: 28px;
    }

    /* Cards */
    .os-aberta,
    .em-andamento,
    .faturamento,
    .despesa,
    .receita,
    .lucro,
    .lucratividade,
    .total-clientes,
    .clientes-ativos,
    .total-servicos,
    .servicos-ativos,
    .categorias,
    .total-usuarios,
    .usuarios-ativos,
    .departamentos {
        width: calc(50% - 7px);
        min-width: auto;
        font-size: 14px;
        padding: 8px 10px;
    }

    /* Table */
    .dashboard-table {
        margin-left: 12px;
        margin-right: 12px;
        overflow-x: auto;
    }

    .table {
        font-size: 13px;
    }

    .table th,
    .table td {
        padding: 10px 8px;
    }

    /* Forms */
    input,
    select,
    textarea {
        font-size: 15px;
    }

    textarea {
        min-height: 120px;
    }

    /* Grid */
    .grid.grid-cols-1 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 16px;
    }

    .grid.grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .grid.grid-cols-3 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .grid.grid-cols-4 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    /* Modal */
    .modal-content {
        width: 85% !important;
        max-width: 600px !important;
    }
}

/* ============================================================
   HD DESKTOP - 1024px a 1366px
   ============================================================ */
@media (min-width: 1024px) and (max-width: 1366px) {
    :root {
        --navbar-height: 72px;
    }

    /* Navbar */
    .navbar {
    }

    .titulo-sistema {
        font-size: 18px;
        padding: 0 16px;
    }

    .select-oficina select {
        width: 180px;
        font-size: 15px;
    }

    .login-itens {
        margin-right: 60px;
    }

    /* Sidebar */
    .sidebar-fixed {
        width: 280px !important;
    }

    .menu-list a {
        padding: 10px 16px;
        font-size: 14px;
    }

    /* Content */
    .content-shell {
        padding: 20px 24px 40px;
    }

    /* Dashboard */
    .dashboard-header {
        gap: 16px;
        margin-left: 18px;
    }

    .numero {
        font-size: 32px;
    }

    /* Cards */
    .os-aberta,
    .em-andamento,
    .faturamento,
    .despesa,
    .receita,
    .lucro,
    .lucratividade,
    .total-clientes,
    .clientes-ativos,
    .total-servicos,
    .servicos-ativos,
    .categorias,
    .total-usuarios,
    .usuarios-ativos,
    .departamentos {
        width: auto;
        min-width: 200px;
        font-size: 15px;
    }

    /* Table */
    .dashboard-table {
        margin-left: 18px;
        margin-right: 18px;
    }

    /* Financeiro charts 50/50 on HD */
    .financeiro-charts {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 16px !important;
    }

    .table {
        font-size: 14px;
    }

    /* Grid */
    .grid.grid-cols-1 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .grid.grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .grid.grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .grid.grid-cols-4 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 18px;
    }

    /* Modal */
    .modal-content {
        width: 80% !important;
        max-width: 700px !important;
    }
}

/* ============================================================
   TV / LARGE SCREEN - 1367px+
   ============================================================ */
@media (min-width: 1367px) {
    :root {
        --navbar-height: 72px;
    }

    /* Navbar */
    .navbar {
    }

    .titulo-sistema {
        font-size: 18px;
        padding: 0 16px;
    }

    .select-oficina select {
        width: 180px;
        font-size: 15px;
    }

    .login-itens {
        margin-right: 60px;
    }

    /* Sidebar */
    .sidebar-fixed {
        width: 280px !important;
    }

    .menu-list a {
        padding: 10px 16px;
        font-size: 14px;
    }

    /* Content */
    .content-shell {
        padding: 20px 24px 40px;
    }

    /* Dashboard */
    .dashboard-header {
        gap: 16px;
        margin-left: 18px;
    }

    .numero {
        font-size: 32px;
    }

    /* Cards */
    .os-aberta,
    .em-andamento,
    .faturamento,
    .despesa,
    .receita,
    .lucro,
    .lucratividade,
    .total-clientes,
    .clientes-ativos,
    .total-servicos,
    .servicos-ativos,
    .categorias,
    .total-usuarios,
    .usuarios-ativos,
    .departamentos {
        width: auto;
        min-width: 200px;
        font-size: 15px;
    }

    /* Table */
    .dashboard-table {
        margin-left: 18px;
        margin-right: 18px;
    }

    /* Financeiro charts 50/50 on HD */
    .financeiro-charts {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 16px !important;
    }

    .table {
        font-size: 14px;
    }

    /* Grid */
    .grid.grid-cols-1 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .grid.grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .grid.grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .grid.grid-cols-4 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 18px;
    }

    /* Modal */
    .modal-content {
        width: 80% !important;
        max-width: 700px !important;
    }
}

/* ============================================================
   UTILITIES - Todos os tamanhos
   ============================================================ */

/* Classes de visibilidade responsiva */
.hide-mobile {
    display: block;
}

.show-mobile-only {
    display: none;
}

@media (max-width: 767px) {
    .hide-mobile {
        display: none !important;
    }

    .show-mobile-only {
        display: block !important;
    }

    .hide-mobile-inline {
        display: none !important;
    }

    .show-mobile-inline {
        display: inline !important;
    }
}

/* Scrollbar customizado */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* Touch friendly buttons */
@media (hover: none) and (pointer: coarse) {
    button,
    a {
        min-height: 44px;
        min-width: 44px;
        padding: 12px 16px;
    }
}

/* Landscape mode adjustments */
@media (orientation: landscape) and (max-height: 600px) {
    .navbar {
        min-height: 56px;
    }

    .content-shell {
        padding: 12px 16px 20px;
    }

    .dashboard-header {
        margin-top: 8px;
        margin-bottom: 8px;
    }

    /* Movimentação Mensal - sempre em linha */
    .flex.flex-row.gap-3 {
        display: flex !important;
        flex-direction: row !important;
        gap: 12px !important;
    }

    .flex.flex-row.gap-3 > div {
        flex: 1 !important;
        min-width: 0 !important;
    }

    /* Movimentação Selects - sempre em linha centralizado */
    .movimentacao-selects {
        display: flex !important;
        flex-direction: row !important;
        justify-content: center !important;
        align-items: center !important;
        gap: 24px !important;
        flex-wrap: wrap !important;
    }

    .movimentacao-selects > div {
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        gap: 8px !important;
    }
}

/* ============================================================
   DASHBOARD TABLE ESTOQUE - 50/50 Layout
   ============================================================ */

/* Manter 50/50 em todos os breakpoints */
.dashboard-table-estoque {
    display: flex;
    flex-direction: row;
    gap: 12px;
    margin-top: 20px;
    margin-bottom: 20px;
    width: 100%;
    box-sizing: border-box;
}

.dashboard-table-estoque > div {
    flex: 1;
    width: 50%;
    display: flex;
    flex-direction: column;
    min-width: 0;
}

.dashboard-table-estoque > div > div {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.dashboard-table-estoque .overflow-x-auto {
    width: 100%;
    flex: 1;
}

/* Mobile: manter 50/50 */
@media (max-width: 479px) {
    .dashboard-table-estoque {
        gap: 8px;
        padding: 0 8px;
        margin-left: 0;
        margin-right: 0;
    }

    .dashboard-table-estoque > div {
        width: 50%;
        flex: 1;
    }
}

/* Small Tablet: manter 50/50 */
@media (min-width: 480px) and (max-width: 767px) {
    .dashboard-table-estoque {
        gap: 12px;
        padding: 0 12px;
        margin-left: 0;
        margin-right: 0;
    }

    .dashboard-table-estoque > div {
        width: 50%;
        flex: 1;
    }
}

/* Tablet: manter 50/50 */
@media (min-width: 768px) and (max-width: 1023px) {
    .dashboard-table-estoque {
        gap: 16px;
        padding: 0 16px;
        margin-left: 0;
        margin-right: 0;
    }

    .dashboard-table-estoque > div {
        width: 50%;
        flex: 1;
    }
}

/* HD Desktop: manter 50/50 */
@media (min-width: 1024px) and (max-width: 1366px) {
    .dashboard-table-estoque {
        gap: 20px;
        padding: 0 20px;
        margin-left: 0;
        margin-right: 0;
    }

    .dashboard-table-estoque > div {
        width: 50%;
        flex: 1;
    }
}

/* TV/Large: manter 50/50 */
@media (min-width: 1367px) {
    .dashboard-table-estoque {
        gap: 24px;
        padding: 0 24px;
        margin-left: 0;
        margin-right: 0;
    }

    .dashboard-table-estoque > div {
        width: 50%;
        flex: 1;
    }
}
/* Tablet e acima - remove overlay e volta ao sidebar normal */
@media (min-width: 768px) {
    .sidebar-overlay {
        display: none !important;
    }

    .sidebar-fixed {
        position: sticky !important;
        transform: translateX(0) !important;
        width: 200px !important;
    }

    .main-shell {
        flex-direction: row !important;
    }
}